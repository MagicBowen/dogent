# Lessons：经验沉淀与自动提醒

Dogent 的 Lesson 用来记录“这次任务中学到的教训或约束”，下次写作会自动注入提示，避免重复犯错。

## 1. Lesson 的价值

- 记录失败原因与改正办法
- 固化写作风格或约束（如“不要使用行话”）
- 让 Agent 在后续任务中自动记住你给过的纠正信息

---

## 2. 触发方式

### 方式 A：自动提示

当任务 **中断（Esc）** 或 **失败（Error/Failed）** 时，Dogent 会询问你是否要保存 Lesson。

你只需要补充一句“正确做法是什么”，即可生成一条 Lesson。

### 方式 B：手动写入

```text
> /learn 以后写周报请优先展示风险与阻塞，不要只列完成项。
```

---

## 3. 自动记录开关

```text
> /learn on
> /learn off
```

对应配置：`.dogent/dogent.json` 中的 `learn_auto`。

---

## 4. Lesson 存储位置与格式

- 存储文件：`.dogent/lessons.md`
- 每条记录会带时间戳
- Dogent 会在每次对话中读取并注入到提示词上下文

你可以直接编辑该文件进行整理或删改。

---

## 5. 实战建议

- 失败后尽量用“一条清晰的纠正规则”写 Lesson
- 不要写过长的段落，保持可读性与可复用性
- 如果 Lesson 过多，建议定期清理，保留最有价值的 5~15 条

---

下一章将介绍工作区状态文件（history/memory/lessons）及相关命令。
