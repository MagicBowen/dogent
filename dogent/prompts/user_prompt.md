User Request:
{user_message}

Todo Snapshot:
{todo_block}

@file Context:
{attachments}

Recent History:
{history_block}

Guidance:
- Follow the system prompt.
- Ask for missing information before taking uncertain actions.